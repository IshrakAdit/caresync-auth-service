# E2E Test Profile Configuration
# This profile is used ONLY for End-to-End tests with Testcontainers

# Explicitly force PostgreSQL driver (override H2 auto-detection)
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration for E2E tests
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Disable Flyway for E2E tests (let Hibernate handle schema creation)
spring.flyway.enabled=false

# Disable H2 console and auto-configuration
spring.h2.console.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration

# Firebase configuration for E2E tests (mock values)
# Create a valid base64 encoded dummy JSON for Firebase
FIREBASE_CREDENTIAL=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50IiwicHJvamVjdF9pZCI6ImU2ZS10ZXN0LXByb2plY3QiLCJwcml2YXRlX2tleV9pZCI6ImR1bW15LWtleS1pZCIsInByaXZhdGVfa2V5IjoiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5kdW1teS1wcml2YXRlLWtleVxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwiY2xpZW50X2VtYWlsIjoiZTJlLXRlc3RAZTJlLXRlc3QtcHJvamVjdC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsImNsaWVudF9pZCI6IjEyMzQ1Njc4OTAiLCJhdXRoX3VyaSI6Imh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwidG9rZW5fdXJpIjoiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4ifQ==

# Logging configuration for E2E tests
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.testcontainers=INFO
logging.level.com.caresync=DEBUG

# Security config (keep simple for E2E tests)
spring.security.user.name=admin
spring.security.user.password=admin123

# Server config
server.port=0
server.address=0.0.0.0 